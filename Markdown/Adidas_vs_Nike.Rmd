---
title: 'Adidas vs Nike: EDA de productos, precios y reseñas.'
author: "Patricio Alvarez Escobar"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## ![](Plots/031591a3c635dbf61ced57493342548d.jpg)

## 1. Introducción.

### 1.1. Contexto.

Nike y Adidas son dos de las más grandes marcas en la industria de ropa deportiva y calzado deportivo. Ambas marcas representan la excelencia en el desempeño sus productos, en la cual, están en constante innovación e imponiendo las nuevas tendencias en el rubro del vestir deportivo. Ambas marcas han entregado productos icónicos a lo largo de los años, tales como "Jordan´s", "Nike Air Max", "Airforce 1", "Addipure", "Predator", y la lista continúa en ambas marcas.

Adidas vs Nike es un debate constante en la industria de la ropa deportiva y el calzado. Este conjunto de datos consiste en la información de los distintos productos en el mercado de estas dos grandes empresas con información significativa. Con este conjunto de datos proporcionado se realizará un Analisis exploratorio de datos (EDA) con el propósito de establecer relaciones competitivas entre ambas marcas.

### 1.2. Contenido del dataset.

El conjunto de datos consta de 3.268 productos de Nike y Adidas con 12 características de información que incluyen sus calificaciones, descuento, precio de venta, precio de lista, descripción del producto y número de reseñas. El conjunto de datos se obtuvo del sitio web mundial de datos aportado por datahub y Kaggle. Las ventas mostradas en este dataset pertenecen a 1 mes de ventas.

### 1.3. Objetivos.

1.  Agrupar productos y marcas en función de varios factores.

2.  Realizar un análisis exploratorio de los datos y sus distintas variables.

3.  Realizar un análisis competitivo de Nike v/s Adidas.

## 2. Preparación de los datos.

### 2.1. Cargar librerías.

Antes de iniciar con la preparación del dataset de trabajo, partimos con cargar las librerías a utilizar en el presente proyecto.

```{r, echo=TRUE, results='hide'}

library(dplyr)  # Manipulación de datos.
library(tidyverse) # Manipulación de datos.
library(ggplot2) # Visualización de datos.
library(skimr) # Inspección de la estructura de datos y el EDA.
library(visdat) # Resumen visual  de la estructura de los datos.
library(inspectdf)  # Inspección de los datos
library(patchwork) # Multiples plots 
```

### 2.2. Cargar dataset de trabajo.

Se procede a cargar el dataset desde un archivo Excel ".csv" .

```{r, echo=TRUE}

dataset<- read.csv("Adidas_Nike_dataset.csv")
```

## 3. Procesamiento de los datos.

Se hace una visualización inicial del dataset por medio de la función `head().`

```{r}

head(dataset, n = 5)
```

### 3.1. Selección de las variables de trabajo.

Hay variables como "Descripticion", "Product.ID" y "Last.Visited" que no serán parte de este analisis, y que ensucian la visualización de los datos, por lo cual, procedemos a no considerarlas y seleccionamos las otras variables como variables de trabajo.

```{r, echo=TRUE, results='hide'}

dataset <- dataset %>% select(- Description)
dataset <- dataset %>% select(- Product.ID)
dataset <- dataset %>% select(- Last.Visited)

```

Procedemos a viualizar nuevamente los datos:

```{r, echo = FALSE, results='asis'}
knitr::kable(head(dataset, n= 5), caption = "Table dataset Visualization")
```

### 3.2. Inspección de la estructura de los datos.

Para visualizar los datos usamos las función `glimpse()` del paquete dplyr. Esta función es una versión de la función `print()` y `str()`, en la cual, al aplicarse al dataset, muestra la estructura de los datos, mostrando la mayor cantidad de observaciones posibles. Es una función, que proporciona un resumen mucho mas visual de la estructura de los datos.

Realizamos la visualización de la estructura de los datos:

```{r, echo=TRUE, results='hide'}

glimpse(dataset)

```

![](Plots/glimpse1_(dataset).jpg){width="659"}

### 3.3. Ajuste de variables.

La primera visión de la estructura de los datos nos muestra que hay variables, cuyas observaciones, no representan la clase que debiesen ser. Por lo tanto, es necesario ajustar estas variables.

```{r, echo=TRUE, results='hide'}

# La variable Brand pasa a ser un factor

dataset$Brand <- as.factor(dataset$Brand)

# La variable Rating pasa a ser a numerico

dataset$Rating <- as.numeric(dataset$Rating)

# La variable Reviews pasa a ser a numerico

dataset$Reviews <- as.numeric(dataset$Reviews)
```

Volvemos a visualizar la estructura de los datos:

```{r, echo=TRUE, results='hide'}

glimpse(dataset)
```

![](Plots/glimpse2_dataset.jpg)

Ahora la variable Brand, que es una variable categórica, se muestra fomo "factor" y las variables Rating y Reviews se muestran como integer (es una manera de mostrar números enteros).

### 3.4. Ajuste de codificación de las observaciones en las variables.

En la variable "Brand" se observa que hay muchas submarcas en el dataset. El objetivo del proyecto es hacer un analisis de las marcas Nike y Adidas, por lo tanto, es necesario que las submarcas las agrupemos en sus marcas principales correspondientes.

```{r}

levels(dataset$Brand) # verificamos los nombres (niveles) a reemplazar
```

```{r}

# Establecemos los nuevos nombres

mynewnames <- c("Adidas Adidas ORIGINALS" = "Adidas", 
                "Adidas CORE / NEO" = "Adidas", 
                "Adidas ORIGINALS" = "Adidas", 
                "Adidas SPORT PERFORMANCE" = "Adidas",
                "Nike" = "Nike")

# Reemplazamos

levels(dataset$Brand) <- mynewnames[levels(dataset$Brand)]
```

### 3.5. Identificar y tratar duplicados.

Procedemos a identificar y eliminar datos duplicados en el dataset. Primero, partimos identificando si hay datos duplicados en el dataset y su cantidad.

```{r, echo=TRUE}

any(duplicated(dataset))

sum(duplicated(dataset))
```

Observamos que existen 117 datos duplicados en la tabla, los cuales procedemos a eliminar de la siguiente manera:

```{r}
dataset <- dataset %>% distinct() 
```

## 4. Análisis de los datos.

### 4.1. Análisis descriptivo de los datos.

En el análisis descriptivo, como su nombre lo indica, describimos las tendencias claves en los datos existentes y observamos las situaciones que conduzcan a llevar a cabo los análisis. Para realizar el analisis descriptivo del dataset de trabajo utilizaremos la función `skim()` del paquete "skimr". Esta función nos entrega un resumen completo de los datos y su estructura.

```{r, echo=TRUE, results='hide'}
skim(dataset)
```

![](Plots/summary1.jpg)

![](Plots/skim_numeric.jpg)

![](Plots/skim_categoric.jpg)

Los resultados del `skim()` indican que los datos están estructurados por y 3.152 observaciones y 7 variables (columnas). Estas variables se distribuyen en 5 variables numéricas y 2 categóricas. No hay presencia de variables agrupadas.

Al analizar las variables numéricas y su distribución en cuartiles, podemos observar la posible presencia de outliers (valores ubicados en p100).

### 4.2. Resumen visual de los datos.

El análisis visual de los datos confirma los resultados obtenidos en el análisis descriptivo, en el cual, la mayoría de los datos son numericos con 7 variables ("precio de lista,"precio de venta", "descuentos", "evaluaciones" y "reseñas") y existen dos variables categóricas, correspondientes la "marca" y "nombre del producto" (ver figura a continuación).

![](Plots/dst_description.jpeg)

Por su parte, el análisis de las variables numéricas, confirma lo visto en el analisis del `skim()`, en el cual, se observan datos atípicos (outliers), los cuales pueden afectar el resultado de los análisis (ver figura a continuación).

```{r, echo=FALSE}

inspect_num(dataset) %>% show_plot()
```

### 4.3. Estableciendo relaciones entre las variables.

Los resultados visuales de correlación muestran que existe relación entre las variables de los datos tales como (ver figura a continuación):

-   Existe ligera relación positiva entre el precio de lista con el precio de venta.

-   Existe una fuerte relación negativa entre el precio de venta y los descuentos.

-   Existe una ligera relación positiva entre los descuentos y las reseñas de los productos.

-   Existe una relación negativa entre el precio de venta y las reseñas.

![](Plots/corr_plot.jpeg)

### 4.4 Análisis de las variables categóricas.

Los resultados muestran que, para estos datos, Adidas presenta casi 5 veces más productos en el mercado que Nike. Los datos indican que la marca Adidas, presenta un total de 2.624 productos diferentes, mientras que Nike solo presenta 527 productos (ver tabla 2).

```{r, echo = FALSE, results='asis'}
knitr::kable( dataset %>% 
                        dplyr::count(Brand)

             , caption = "Productos disponibles en el mercado")
```

### 4.5. Analizando las variables numéricas.

#### 4.5.1. Analisis de Precio de lista:

Los resultados muestan que, en resumen, Los precios de lista de Adidas son más baratos que los precios de lista de Nike. Los precios de lista de Adidas se distribuyen entre los \$4.000 dólares y los \$9.000 dólares con dos picks, en los cuales, la mayoría de los productos cuestan entre \$5.000 dólares y los \$7.000 dólares. Por su parte, los precios de lista de Nike, que se distribuyen de una manera más uniforme que los productos adidas, cuestan entre los \$250 dólares y los \$5.000 dólares, con un pick, en el cual, la mayoría de los productos cuestan alrededor de los \$1.000 dólares (ver figura a continuación).

```{r, echo=FALSE}
ggplot(data = dataset, aes(x = Brand, y = Listing.Price , fill = Brand)) +
  geom_violin(trim = FALSE) +
  geom_boxplot(outlier.shape = NA , width = 0.05) +
  scale_y_continuous(breaks=c(1000, 5000, 10000, 15000, 20000, 25000, 30000)) +
  scale_fill_manual(values = c("purple1", "#FFFF00"))+
  labs(title = "Listing Price by Brand", x = "", y = "Listing price")+
  theme_classic()
```

#### 4.5.2. Análisis de Precio de venta: 

Los resultados del set de datos muestran que, en cuanto al precio de lista, Adidas ofrece sus productos más baratos que Nike. Los precios de venta de Adidas tienen un pick cercano a los \$2.000 dólares, mientras que Nike está más cercano a los \$6.000. Los precios de venta de los productos Nike son mas simétricos comparados con los precios de venta Adidas, que son altamente variables (ver figura a continuación).

```{r, echo=FALSE}

ggplot(data = dataset, aes(x = Brand, y = Sale.Price , fill = Brand)) +
  geom_violin(trim = FALSE) +
  geom_boxplot(outlier.shape = NA , width = 0.05) +
  scale_fill_manual(values = c("springgreen1", "#FF6347"))+
  scale_y_continuous(breaks=c(1000, 5000, 10000, 15000, 20000, 25000, 30000)) +
  labs(title = "Sale price by Brand",  x = "", y = "Sale price") +
  theme_classic()

```

#### 4.5.3 Análisis de las evaluaciones: 

La tabla 3 muestra un resumen comparativo de Adidas vs Nike en base a los promedios de "Evaluación" de productos, "Precio de lista", "Precio de venta" y "Reseñas". Por "Evaluación" se entenderá como la puntuación de satisfaccion por parte de los clientes con respecto a un producto. Por su parte, "Reseñas" son el número de comentarios que recibe cada producto por parte de los clientes, ya sean satisfactorios o no satisfactorios.

El análisis de la tabla 3 muestra que, en promedio las evaluaciones de satisfacción de los productos Nike serían mejores que los productos Adidas. Además, comparando el Promedio del número de reseñas vs el promedio de puntuación de las evaluaciones, al parecer Nike tiene mejores evaluaciones en un número menor de reseñas comparado con Adidas.

```{r, echo=FALSE, results='hide'}

df.rat2 <- dataset %>%                # creamos el dataframe solo con descuentos vs marca
  select(- Discount)

df.rat2 <- df.rat2 %>% distinct()     #eliminamos replicados

df.rat2 <- df.rat2[df.rat2$Rating > 0 & df.rat2$Brand != 0, ] # eliminamos los ceros

df.rat2
```

```{r, echo=FALSE, results='asis'}

knitr::kable( df.rat2 %>%
  group_by(Brand) %>%
  summarise ( 'Mean Rating' = mean(Rating),
              'Mean Listing.Price' = mean(Listing.Price),
              'Mean Sale.Price' = mean(Sale.Price),
              'Mean Reviews' = mean(Reviews))

             , caption = "Resumen de promedio de variables Adidas v/s Nike")
```

#### 4.5.4 Análisis de las evaluaciones de producto por marca:

El análisis visual de las evaluaciones de los productos confirma lo indicado en la tabla 3. Los resultados indican que la evaluación de productos de Nike son bastante asimetricos y distribuidos a valores altos, esto siginifica que, para estos datos, Nike tiene mejores evaluaciones que Adidas. Adidas, por su parte, tiene un promedio de evaluaciones de sus productos menor que Nike, pero más uniformes que su contraparte.

```{r, echo=FALSE}
ggplot(data = df.rat2, aes(x = Brand, y = Rating , fill = Brand)) +
  geom_violin(trim = FALSE) +
  geom_boxplot(outlier.shape = NA , width = 0.05) +
  scale_fill_manual(values = c("#7FFF00", "#0000FF"))+
  labs(title = "Rating by Brand")+
  theme_classic()
```

#### 4.5.5 Evaluaciones v/s reseñas: 

El análisis visual de de la contraposición del promedio de reseñas v/s el promedio de puntuación de las evaluaciones por producto de las marcas confirma lo indicado en la tabla 3. Los resultados indican que la evaluación de productos de Nike son, en promedio, más altos que los productos adidas. Por su parte, el promedio de las reseñas por producto son mayores en Adidas que en Nike.

La conclusión de este patrón observado lleva a pensar que, para estos datos, Nike obtiene mejor evaluación de sus productos en una menor cantidad de reseñas por producto que Adidas. Por lo tanto, los resultados hacen pensar que, en promedio, los productos Nike son mucho mejor evaluados que Adidas.

```{r, echo=FALSE, results='hide'}

resumen<- df.rat2 %>%
  group_by(Brand) %>%
  summarise ( 'Mean Rating' = mean(Rating),
              'Mean Listing.Price' = mean(Listing.Price),
              'Mean Sale.Price' = mean(Sale.Price),
              'Mean Reviews' = mean(Reviews))

```

```{r, echo=FALSE}

rating<- ggplot(data = resumen, aes(x = Brand, y =`Mean Rating` , fill = Brand)) +
  geom_col() +
  scale_fill_manual(values = c("#00FFFF", "#FF8C00"))+
  labs(title = "Rating by Brand", x = "Brand", y = "Rating")+
  theme_classic()
reviews<- ggplot(data = resumen, aes(x = Brand, y = `Mean Reviews` , fill = Brand)) +
  geom_col() +
  scale_fill_manual(values = c("#00FFFF", "#FF8C00"))+
  labs(title = "Reviews by Brand", x = "Brand", y = "Reviews")+
  theme_classic()

rating + reviews
```

### 5. Conclusiones.

Las marcas deportivas más importantes del mundo son Adidas y Nike, ambas con una personalidad de marca muy definida y excepcional. Ambas marcas, en su estilo de Marketing, se las han arreglado para liderar el mercado deportivo con sus diversos productos.

En este proyecto se realizó un análisis exploratorio y de visualización de las ventas de estas dos grandes marcas centrándonos en variables competitivas determinadas, tales como: "Productos en el Mercado", "Precio de Lista", "Precio de Venta", "Evaluación de productos" y "Reseñas por producto". El objetivo de analizar estas variables fue agruparlas para bsucar relaciones en base a los distintos factores expuestos y, por medio del análisis exploratorio, buscar las diferencias competitivas entre las marcas Adidas y Nike.

Los resultados de los análisis para éste set de datos indican que:

-   Adidas presenta casi 5 veces más productos en el mercado que Nike.

-   Los precios de lista de Adidas son más baratos que los precio de lista de Nike.

-   En cuanto a los Precios de venta, Adidas ofrece sus productos más baratos que Nike.

-   Nike obtiene mejor evaluación de sus productos en una menor cantidad de reseñas por producto que Adidas. Por lo tanto, los resultados hacen pensar que, en promedio, los productos Nike son mucho mejor evaluados que Adidas. haciendo que la experiencia de los productos Nike, para esta base de datos, .

-   En resumen, El análisis de las variables competitivas de éste Analisis exploratorio arrojan la conclusión que, para éste set de datos, la experiencia de los productos Nike es mejor que la experiencia de los producto Adidas.
